# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/v1.0/azure.yaml.json

name: azure-language-openai-conversational-agent
metadata:
  template: azure-language-openai-conversational-agent@1.0
hooks:
  # TODO: preprovision quota script:
  postprovision:
    run: |
      bash infra/scripts/postprovision_generate_env.sh
      source infra/.env
      bash infra/scripts/postprovision_run_setup.sh
    shell: sh
    continueOnError: false
    interactive: true
  predeploy:
    posix:
      run: |
        source infra/.env
        bash infra/scripts/predeploy_create_container.sh
    shell: sh
    continueOnError: false
    interactive: true
